# 達人に学ぶDB設計の読書メモ
はてぶにまとめる用のメモ

## 8章
### 学びのあったところ
代理キーは使わない（論理的には不要なキーのため）   
期間をインターバルで持つことでBETWEENで範囲を絞ることができる。   
オートナンバリングはグレー（ID型よりもシーケンス型のほうが良い）   
オートナンバリングの欠点はロックが起こること   
アドホックテーブルの解決策①は弊社でもやっている。   
ビューはSELECT文が書かれたファイル   
ビューに対してSELECTをするということは対象テーブルに対して2回SELECT句を投げてるのと変わらない。   
ビューの背後にあるテーブルを意識する   
テーブル設計の前にデータクレインジグをやる   
マテリアライズドビューの性能がビューや一時テーブルよりもいいのがわかった。   

### 章のまとめ
グレーケースについて学んだ。   
バッドノウハウとは違いトレードオフの関係ではあるものの、使う際はよく考えて使うようにしなくてはならない。   
オートインクリメントが主キーとしては使わないほうが良い代理キーだとは知らなかった。   
弊社のメインのテーブルの設計はイケてないことになってしまうなーと反省した。   
ビューがSELECT文の書かれたファイルでビューにSELECT文を投げるということは2回SELEC文を投げていることになることも初めて知った。   
自分でなにかアプリを作成する際は主キーをオートインクリメントではなく固定長のデータにしようと決めた。   
