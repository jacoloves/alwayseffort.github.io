# 2023-06-28
## 今日やったこと
Rustでアルゴリズムを書いた。   
permutationが必要だったのでかなり苦労した。   
```rs
fn abc145_c() {
    input! {
        n: usize,
        xy: [(f64, f64); n]
    }

    let mut count = 0;
    let mut dist = 0.0;

    for order in (0..n).permutations(n) {
        count += 1;
        for i in order.windows(2) {
            let (x1, y1) = xy[i[0]];
            let (x2, y2) = xy[i[1]];
            dist += ((x2 - x1).powi(2) + (y2 - y1).powi(2)).sqrt();
        }
    }

    println!("{}", dist / count as f64);
}
```

この処理は
```
`order.windows(2)`は、イテレータ `order` を要素のペアのウィンドウに変換する処理です。

具体的には、順列 `order` の要素を2つずつのペアでスライディングウィンドウを作成します。たとえば、順列 `[1, 2, 3, 4]` の場合、ウィンドウは `[(1, 2), (2, 3), (3, 4)]` のようになります。

この処理は、隣接する要素のペアを順番に取得するために使用されます。各ペア `(x1, x2)` を使って座標の距離を計算する際などに利用されます。
```

order.window(2)の挙動がわからなかったので調べてみた。   
```
`order.windows(2)`は、イテレータ `order` を要素のペアのウィンドウに変換する処理です。

具体的には、順列 `order` の要素を2つずつのペアでスライディングウィンドウを作成します。たとえば、順列 `[1, 2, 3, 4]` の場合、ウィンドウは `[(1, 2), (2, 3), (3, 4)]` のようになります。

この処理は、隣接する要素のペアを順番に取得するために使用されます。各ペア `(x1, x2)` を使って座標の距離を計算する際などに利用されます。
```